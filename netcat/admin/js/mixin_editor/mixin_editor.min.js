(function(f){function q(a){return Object.keys(a).reduce(function(b,c){if("object"===typeof a[c]&&a[c]){var d=q(a[c]);Object.keys(d).forEach(function(a){b[c+"."+a]=d[a]})}else b[c]=a[c];return b},{})}function u(a){var b={},c;for(c in a)r(b,c.split("."),a[c]);return b}function r(a,b,c){for(var d=a,e=b.length-1,g=0;g<e;g++)void 0===d[b[g]]&&(d[b[g]]={}),d=d[b[g]];d[b[e]]=c;return a}function t(a,b,c){return a.replace("%from",b).replace("%to",c)}var m="",h=window.nc_mixin_settings_editor=function(a){if(!(this instanceof
h))return new h(a);this.breakpoints={};this.breakpoints[this.MAX_WIDTH]=this.MAX_WIDTH.toString();this.lang=a.lang||this.lang;this.container=f(a.container);this.component_template_id=a.component_template_id;this.infoblock_id=a.infoblock_id;this.set_breakpoint_type_from_select();this.fonts=a.fonts;this.mixin_type_order=this.get_mixin_type_order();this.calculated_colors={};try{var b=this.find(".nc-mixins-json").val()||"{}";this.set_own_settings(JSON.parse(b)||{})}catch(d){}this.apply_preset_settings();
this.rebuild_table();this.init_event_handlers();var c=this;this.find(".nc-mixins-mixin-settings-lock-sides-button").each(function(){c.init_lock_sides_button(f(this))});this.load_fonts();this.find("select.nc-mixins-mixin-font-select").each(function(){c.init_font_select(f(this))});this.init_color_inputs(this.find("[data-color-input]"))};h.mixin_settings_set_values_event="mixin_settings_set_values_event";h.mixin_settings_new_row_event="mixin_settings_new_row_event";h.breakpoint_type_change_event="breakpoint_type_change";
h.prototype={MAX_WIDTH:9999,lang:{},container:null,selected_preset:"",own_settings:{},component_template_id:void 0,infoblock_id:void 0,fonts:[],selectors:{},breakpoints:{},breakpoint_type:"",inherited_settings:{},temporary_own_settings:{},mixin_type_order:[],constructor:h,find:function(a){return this.container.find(a)},init_event_handlers:function(){var a=this;this.find(".nc-mixins-preset-select").change(f.proxy(this,"on_preset_select_change"));this.find(".nc-mixins-preset-actions .nc--edit").click(f.proxy(this,
"open_preset_edit_dialog"));this.find(".nc-mixins-preset-actions .nc--remove").click(f.proxy(this,"open_preset_delete_dialog"));this.find(".nc-mixins-breakpoint-type-select").change(f.proxy(this,"on_breakpoint_type_select_change")).change();this.find(".nc-mixins-selector-select").change(f.proxy(this,"on_selector_select_change"));this.container.on("click",".nc-mixins-breakpoint-add-button",f.proxy(this,"show_new_breakpoint_dialog"));this.container.on("click",".nc-mixins-breakpoint",f.proxy(this,"show_edit_breakpoint_dialog"));
this.container.on("click",".nc-mixins-add-setting, .nc-mixins-settings-marker",f.proxy(this,"show_mixin_settings"));this.container.on("click",".nc-mixins-settings-cell:not(.nc--active)",function(){var a=f(this).prev(),c=a.find(".nc-mixins-settings-marker");c.length?c.click():a.find(".nc-mixins-add-setting").click()});this.container.on("change",".nc-mixins-mixin-select",function(){a.on_mixin_select_change(f(this),!1)});this.container.on("change input",".nc-mixins-mixin-settings :input",f.proxy(this,
"update_current_mixin_settings"));this.container.on("click",".nc-mixins-mixin-remove",f.proxy(this,"on_remove_settings_button_click"));this.container.on("click",".nc-mixins-mixin-settings-row-add",f.proxy(this,"on_mixin_multiple_settings_add_button_click"));this.container.on("click",".nc-mixins-mixin-settings-row-remove",f.proxy(this,"on_mixin_multiple_settings_remove_button_click"))},get_mixin_input_values:function(a){var b={};a.find("input, select, textarea").filter('[name^="mixin."]').each(function(){var a=
f(this),d=this.name.replace(/^mixin\./,""),e=a.val();if(!a.is(":radio")||a.is(":checked")){if(0<=d.indexOf("#")){if(a.closest(".nc-mixins-mixin-settings-row-template").length)return;var g=a.closest(".nc-mixins-mixin-settings-row"),g=g.parent().children().index(g);0<=g&&(d=d.replace(/#/g,g))}a.is(":checkbox")?b[d]=a.is(":checked")?e:"":a.is('[data-color-input][data-nc-swatches][data-sync-color^="var"]')?b[d]=a.attr("data-sync-color"):b[d]=e}});return b},set_inherited_settings:function(a){var b=!f.isEmptyObject(this.inherited_settings),
c=!f.isEmptyObject(a);if(c){var b=Object.keys(this.breakpoints),d=this.get_breakpoints_as_array_from_settings(a),b=b.filter(function(a){return 0>d.indexOf(a)});if(b.length){for(var e=0;e<b.length;e++)this.remove_breakpoint(b[e]);this.after_breakpoint_change()}}else b&&this.set_own_settings(f.extend({},this.inherited_settings,this.own_settings));this.container.toggleClass("nc-mixins-editor--with-preset",c);this.inherited_settings=a;this.extract_selectors_and_breakpoints(a)},set_own_settings:function(a){this.own_settings=
a;this.extract_selectors_and_breakpoints(a)},extract_selectors_and_breakpoints:function(a){for(var b in a){this.selectors[b]=b;for(var c in a[b])for(var d in a[b][c])this.breakpoints[d]=d}this.sort_breakpoints();this.on_breakpoint_number_change();this.update_selectors_select()},get_breakpoints_as_array_from_settings:function(a){var b={},c;for(c in a)for(var d in a[c])for(var e in a[c][d])b[e]=e;return Object.keys(b)},sort_breakpoints:function(){var a=Object.keys(this.breakpoints).sort(function(a,
b){return a-b});this.breakpoints={};for(var b=0;b<a.length;b++){var c=a[b];this.breakpoints[c]=c}},sort_mixins:function(a){var b={};f.each(this.mixin_type_order,function(c,d){d in a&&(b[d]=a[d])});return b},get_mixin_type_order:function(){var a=[];this.find(".nc-mixins-mixin-row").each(function(){a.push(f(this).data("mixinType"))});return a},on_breakpoint_number_change:function(){this.container.attr("data-breakpoint-number",Object.keys(this.breakpoints).length)},show_new_breakpoint_dialog:function(a){var b=
f(a.target).closest("td");a=parseInt(b.data("breakpoint"),10);var b=parseInt(b.prev().data("breakpoint"),10)||0,c=this.lang,d=c.BREAKPOINT_ADD_PROMPT;if(b||a)d+=" "+t(c.BREAKPOINT_ADD_PROMPT_RANGE,b,a);(c=parseInt(prompt(d+":"),10))&&c>b&&c<a&&this.add_new_breakpoint(c)},add_new_breakpoint:function(a){this.breakpoints[a]=a;this.sort_breakpoints();this.on_breakpoint_number_change();this.rebuild_table()},show_edit_breakpoint_dialog:function(a){if(!this.container.is(".nc-mixins-editor--with-preset")){a=
f(a.target).closest(".nc-mixins-width").data("breakpoint");var b=prompt(this.lang.BREAKPOINT_CHANGE_PROMPT,a);b!=a&&null!==b&&(""===b||"0"===b?this.remove_breakpoint(a):this.replace_breakpoint(a,b),this.after_breakpoint_change())}},replace_breakpoint:function(a,b){var c=this.own_settings,d;for(d in c)for(var e in c[d])c[d][e][a]&&(c[d][e][b]=c[d][e][a]);this.breakpoints[b]=b;this.remove_breakpoint(a)},remove_breakpoint:function(a){var b=this.get_current_selector(),c;for(c in this.own_settings[b])delete this.own_settings[b][c][a];
delete this.breakpoints[a]},after_breakpoint_change:function(){this.temporary_own_settings={};this.close_opened_mixin_settings();this.sort_breakpoints();this.on_breakpoint_number_change();this.rebuild_table();this.update_mixin_json()},update_selectors_select:function(a){var b=this.find(".nc-mixins-selector-select"),c=b.find("option:last"),d=Object.keys(this.selectors).sort();void 0===a&&(a=b.val());b.find(".nc-mixins-selector-select-selector").remove();for(var e=0;e<d.length;e++){var g=d[e];g&&f("<option>",
{value:g,text:g,"class":"nc-mixins-selector-select-selector"}).insertBefore(c)}b.val(a in this.selectors?a:"")},rebuild_table:function(){var a=Object.keys(this.breakpoints).map(Number);this.temporary_own_settings={};this.rebuild_table_head_width_ranges(a);this.rebuild_table_body_width_ranges(a)},rebuild_table_head_width_ranges:function(a){var b=a.length,c="";this.find(".nc-mixins-width-icon").prop("colspan",b);this.find(".nc-mixins-width").remove();for(var d=0;d<b;d++)var e=a[d],c=c+('<td class="nc-mixins-width nc-mixins-width-head" data-breakpoint="'+
e+'"><div class="nc-mixins-breakpoint-add-button-container"><div class="nc-mixins-breakpoint-add-button" title="'+this.lang.BREAKPOINT_ADD+'">+</div></div><div class="nc-mixins-breakpoint"><span>'+(e>=this.MAX_WIDTH?"&#x2731;":e)+"</span></div></td>");c=f(c);c.first().addClass("nc-mixins-width--first");c.last().addClass("nc-mixins-width--last");this.find(".nc-mixins-width-ranges").prepend(c)},rebuild_table_body_width_ranges:function(a){var b=this;this.find(".nc-mixins-mixin-row").each(function(){var c=
f(this),d="",e=a.length;c.find(".nc-mixins-width").remove();for(var g=0;g<e;g++)d+='<td class="nc-mixins-width" data-breakpoint="'+a[g]+'"><div class="nc-mixins-add-setting-container"><div class="nc-mixins-add-setting">+</div></div></td>';d=f(d);d.first().addClass("nc-mixins-width--first");d.last().addClass("nc-mixins-width--last");c.prepend(d);b.update_row_markers(c)})},update_row_markers:function(a){var b=-1,c=0,d=a.find(".nc-mixins-mixin-type-name").html(),e=this,g=a.data("mixinType");a.find(".nc-mixins-width").each(function(a){var k=
f(this),l=k.data("breakpoint"),p=e.make_range_description(c,l);k.prop("title",d+" "+p).data("range",p);k.find(".nc-mixins-settings-marker").remove();k.removeClass(function(a,b){return(b.match(/\bnc-mixins-width--span-\S+/g)||[]).join(" ")});1<a-b&&k.addClass("nc-mixins-width--span-"+(a-b));var p=e.get_settings(e.own_settings,g,l),h=e.get_settings(e.temporary_own_settings,g,l),m=e.get_settings(e.inherited_settings,g,l);p||h?k.append('<div class="nc-mixins-settings-marker nc-mixins-own-settings-marker">\u25cf</div>'):
m&&k.append('<div class="nc-mixins-settings-marker nc-mixins-inherited-settings-marker">\ud83e\udc61</div>');k.toggleClass("nc-mixins-width--with-own-settings",!!p||!!h);k.toggleClass("nc-mixins-width--with-inherited-settings",!!m);if(p||h||m)b=a,c=l})},get_current_selector:function(){return this.find(".nc-mixins-selector-select").val()},on_selector_select_change:function(){"+"===this.find(".nc-mixins-selector-select").val()?this.show_add_selector_dialog():this.rebuild_table()},show_add_selector_dialog:function(){var a=
prompt(this.lang.SELECTOR_ADD_PROMPT);!a||a in this.selectors||(this.selectors[a]=a);this.update_selectors_select(a||"")},get_settings:function(a,b,c){var d;(d=a[this.get_current_selector()])&&(d=d[b])&&(d=d[c]);return d},remove_settings:function(a,b,c){var d=this.get_current_selector();a[d]&&a[d][b]&&(delete a[d][b][c],f.isEmptyObject(a[d][b])&&delete a[d][b])},make_range_description:function(a,b){if(2>Object.keys(this.breakpoints).length)return"";var c=this.breakpoint_type,c="FOR_"+(c?c.toUpperCase()+
"_":"")+"WIDTH_",c=0==a?c+(b==this.MAX_WIDTH?"ANY":"TO"):b==this.MAX_WIDTH?c+"FROM":c+"RANGE";return t(this.lang[c]||"",a,b-1)},set_breakpoint_type_from_select:function(){this.breakpoint_type=this.find(".nc-mixins-breakpoint-type-select").val()||""},on_breakpoint_type_select_change:function(){var a=this;a.set_breakpoint_type_from_select();a.find(".nc-mixins-mixin-row").each(function(){var b=f(this),c=b.find(".nc-mixins-settings-marker.nc--active").closest(".nc-mixins-width").index();a.update_row_markers(b);
0<=c&&b.find(".nc-mixins-width").eq(c).find(".nc-mixins-settings-marker, .nc-mixins-add-setting").click()});this.container.trigger(h.breakpoint_type_change_event,[{editor:this}])},on_preset_select_change:function(){"+"===this.find(".nc-mixins-preset-select").val()?this.open_preset_edit_dialog():this.apply_preset_settings()},open_preset_edit_dialog:function(){var a=this.get_selected_preset_option().data("id"),b="+"===a,c={component_template_id:this.component_template_id};if("0"!==a){b?c["data[Mixin_Settings]"]=
this.find(".nc-mixins-json").val():c.mixin_preset_id=a;var d=this;nc.load_dialog(this.container.data("preset-edit-dialog-url"),c,"POST").set_option("on_submit_response",function(a){a=parseInt(a,10);var b=this.find('input[name="data[Mixin_Preset_Name]"]').val(),c=this.find(".nc-mixins-json").val(),f=this.find(':checkbox[name="set_as_default"]').is(":checked");a&&d.update_preset(a,b,c,f);this.destroy()});b&&this.find(".nc-mixins-preset-select").val("-1").change()}},open_preset_delete_dialog:function(){var a=
{mixin_preset_id:this.get_selected_preset_option().data("id")},b=this;nc.load_dialog(this.container.data("preset-delete-dialog-url"),a,"POST").set_option("on_submit_response",function(a){(a=parseInt(a,10))&&b.delete_preset(a);this.destroy()})},update_preset:function(a,b,c,d){var e=this.find(".nc-mixins-preset-select"),g=e.find('option[data-id="'+a+'"]'),n=e.find('option[value="-1"]'),k=n.data("id")==a;g.length||(g=f("<option>").val(a).insertBefore(e.find("option:last")),e.val(d?"-1":a));d&&(g=g.add(n));
g.html(b).attr({"data-id":a,"data-settings":c}).data({id:a,settings:JSON.parse(c)});d?n.html(this.lang.PRESET_DEFAULT.replace("%s",b)):k&&this.remove_default_preset(a);e.change()},delete_preset:function(a){var b=this.find(".nc-mixins-preset-select");b.find('option[value="'+a+'"]').remove();this.remove_default_preset(a);b.val("-1").change()},remove_default_preset:function(a){this.find(".nc-mixins-preset-select").find('option[value="-1"][data-id="'+a+'"]').attr({"data-id":"0","data-settings":""}).data({id:0,
settings:{}}).html(this.lang.PRESET_DEFAULT_NONE)},get_selected_preset_option:function(){return this.find(".nc-mixins-preset-select option:selected")},apply_preset_settings:function(){var a=this.get_selected_preset_option();this.set_inherited_settings(a.data("settings")||{});this.rebuild_table();this.find(".nc-mixins-preset-actions").toggle(!!a.data("id"));this.update_mixin_json()},close_opened_mixin_settings:function(){var a=this;this.find(".nc-mixins-settings-cell.nc--active").removeClass("nc--active").each(function(){var b=
f(this);if(b.is(".nc-mixins-settings-cell--temporary")){var c=b.closest("tr");a.remove_settings(a.temporary_own_settings,c.data("mixinType"),b.data("breakpoint"));a.update_row_markers(c)}})},show_mixin_settings:function(a){a=f(a.target);var b=a.closest("td"),c=b.closest("tr"),d=c.find(".nc-mixins-settings-cell"),e=c.data("mixinType"),g=b.data("breakpoint"),c=d.find(".nc-mixins-mixin-select");if(!a.is(".nc--active")){this.close_opened_mixin_settings();d.find(".nc-mixins-mixin-range-description").html(b.data("range"));
d.data("breakpoint",g);d.addClass("nc--active");var e=this.get_mixin_settings_values(e,g),g=e.mixin,n=d.find('.nc-mixins-mixin-settings[data-mixin-keyword="'+g+'"]');c.val(g||"");this.on_mixin_select_change(c,!0);this.set_mixin_input_values(n,e,!0);d.toggleClass("nc-mixins-settings-cell--temporary",!a.is(".nc-mixins-own-settings-marker"));a.is(".nc-mixins-add-setting")&&this.update_current_mixin_settings(!0);this.find(".nc-mixins-settings-marker").removeClass("nc--active");b.find(".nc-mixins-settings-marker").addClass("nc--active")}},
set_mixin_input_values:function(a,b,c){a.find(".nc-mixins-mixin-settings-rows").children().remove();"settings.lock_sides"in b&&!b["settings.lock_sides"]&&(b=f.extend({"settings.lock_sides":b["settings.lock_sides"]},b));for(var d in b){var e=(d.match(/\.(\d+)\./)||[])[1],g=void 0!==e?this.get_mixin_multiple_settings_container(a,e):a,e="mixin."+d.replace("."+e+".",".#."),g=g.find('[name="'+e+'"]');g.is(":checkbox")?g.prop("checked",!!b[d]):g.is(":radio")?g.filter('[value="'+b[d].replace('"','\\"')+
'"]').prop("checked",!0):g.is("[data-color-input]")?(g.attr("data-sync-color",b[d]),this.set_color_input(g,b[d])):g.val(b[d]);c&&g.change()}a.trigger(h.mixin_settings_set_values_event,[{editor:this}])},get_mixin_multiple_settings_container:function(a,b){b=parseInt(b,10);var c=a.find(".nc-mixins-mixin-settings-rows"),d=c.find(".nc-mixins-mixin-settings-row"),e=d.length,g=a.find(".nc-mixins-mixin-settings-row-template");if(e>b)return d.eq(b);if(!c.length||!g.length)return a;for(d=a;e++<b+1;)d=g.clone().removeClass("nc-mixins-mixin-settings-row-template").appendTo(c),
this.init_color_inputs(d.find("[data-color-input]"));0<g.find(".nc-mixins-mixin-settings-row-move").length&&c.sortable({handle:".nc-mixins-mixin-settings-row-move",containment:"parent",update:f.proxy(this,"update_current_mixin_settings")});return d},on_mixin_multiple_settings_add_button_click:function(a){a=f(a.target).closest(".nc-mixins-mixin-settings");var b=a.find(".nc-mixins-mixin-settings-rows .nc-mixins-mixin-settings-row").length,b=this.get_mixin_multiple_settings_container(a,b);a.trigger(h.mixin_settings_new_row_event,
[{editor:this,row:b}]);this.update_current_mixin_settings();return!1},on_mixin_multiple_settings_remove_button_click:function(a){f(a.target).closest(".nc-mixins-mixin-settings-row").remove();this.update_current_mixin_settings();return!1},get_mixin_settings_values:function(a,b){var c=this.get_settings(this.own_settings,a,b)||this.get_settings(this.inherited_settings,a,b);if(!c){var d=Object.keys(this.breakpoints).map(Number),e=d.indexOf(b);e<d.length-1&&(c=this.get_mixin_settings_values(a,d[e+1]))}return q(c||
{})},on_mixin_select_change:function(a,b){var c=a.closest(".nc-mixins-settings-cell");c.find(".nc-mixins-mixin-settings").hide().filter('[data-mixin-keyword="'+a.val()+'"]').show().trigger(h.mixin_settings_set_values_event,[{editor:this}]);b||(c.removeClass("nc-mixins-settings-cell--temporary"),this.update_current_mixin_settings())},update_current_mixin_settings:function(a){var b=this;b.find(".nc-mixins-settings-cell.nc--active").each(function(){var c=f(this),d=b.get_current_selector(),e=c.closest(".nc-mixins-mixin-row"),
g=e.data("mixinType"),n=c.find(".nc-mixins-mixin-select").val(),k=c.data("breakpoint"),l=!1,h="own_settings";!0===a?(l=!0,h="temporary_own_settings"):c.hasClass("nc-mixins-settings-cell--temporary")&&(c.removeClass("nc-mixins-settings-cell--temporary"),l=!0);r(b[h],[d,g,k],{mixin:n});c.find('.nc-mixins-mixin-settings[data-mixin-keyword="'+n+'"]').each(function(){var a=b.get_mixin_input_values(f(this));f.extend(b[h][d][g][k],u(a))});l&&(b.update_row_markers(e),e.find('.nc-mixins-width[data-breakpoint="'+
k+'"] .nc-mixins-settings-marker').addClass("nc--active"))});!0!==a&&this.update_mixin_json()},update_mixin_json:function(){var a=f.extend({},this.own_settings),b;for(b in a)f.isEmptyObject(a[b])?delete a[b]:a[b]=this.sort_mixins(a[b]);this.find(".nc-mixins-json").val(JSON.stringify(a))},on_remove_settings_button_click:function(a){var b=f(a.target).closest(".nc-mixins-settings-cell");a=b.closest("tr");var c=a.data("mixinType"),b=b.data("breakpoint");this.remove_settings(this.temporary_own_settings,
c,b);this.remove_settings(this.own_settings,c,b);this.update_row_markers(a);this.close_opened_mixin_settings();this.update_mixin_json()},init_lock_sides_button:function(a){var b=a.closest(".nc-mixins-mixin-settings-lock-sides, .nc-mixins-mixin-settings"),c=b.find(':hidden[name="mixin.settings.lock_sides"]'),d=b.find(":input");c.change(function(){a.removeClass("nc-icon-lock nc-icon-unlock").addClass(c.val()?"nc-icon-lock":"nc-icon-unlock")}).change();a.click(function(){c.val(c.val()?"":"1").change();
d.filter('[name*="top"]').change()});var e=/(top|right|bottom|left)/;d.on("change input blur",function(){if("1"===c.val()){var a=this.attributes,b=f(this).val(),k=new RegExp(this.name.replace(/\./g,"\\.").replace(e,"(top|right|bottom|left)")),h=d.filter(function(){return this.name&&this.name.match(k)});h.val(b);f.each(a,function(a,b){b.name.indexOf("data-sync-")||h.attr(b.name,b.value)});d.filter(".minicolors-input").each(function(){var a=f(this);a.minicolors("value",a.val())})}})},get_font_options_html:function(){m||
f.each(this.fonts,function(a,b){m+="<option name='"+b.name+"' data-asset='"+b.asset+"' data-fallback='"+b.fallback+"' style='font-family:&quot;"+b.name+"&quot;'>"+b.name+"</option>"});return m},init_font_select:function(a){a.html(a.html()+this.get_font_options_html())},init_color_inputs:function(a){var b=this.infoblock_id?this.infoblock_id:0,c=f(".tpl-block-"+b+", .tpl-container-"+b),d={format:"rgb",keywords:"transparent",opacity:!0,swatches:[],theme:"netcat"},e=["--tpl-color-foreground-main","--tpl-color-foreground-accent",
"--tpl-color-brand","--tpl-color-background-accent","--tpl-color-background-main"],g={};0<b&&0<c.length&&(f.each(e,function(a,b){var e=getComputedStyle(c[0]).getPropertyValue(b);e&&(d.swatches.push({name:"var("+b+")",color:e.trim()}),g["var("+b+")"]=e.trim())}),0<d.swatches.length&&a.each(function(){var a=f(this);g.hasOwnProperty(a.attr("data-sync-color"))&&a.val(g[a.attr("data-sync-color")])}));this.calculated_colors=g;a.minicolors("destroy").minicolors(d);"undefined"!==typeof a.data("nc-swatches")&&
(f(".minicolors-swatch-color").on("click",function(){var a=f(this);if(!a.attr("title"))return!0;a.closest(".minicolors-panel").siblings(".minicolors-input").attr("data-sync-color",a.attr("title"))}),f(".minicolors-panel *").on("click",function(a){a=f(a.target);if(a.is(".minicolors-swatches")||0<a.closest(".minicolors-swatches").length)return!0;f(this).closest(".minicolors-panel").siblings(".minicolors-input").attr("data-sync-color","")}))},set_color_input:function(a,b){0===b.indexOf("var")&&this.calculated_colors.hasOwnProperty(b)?
a.minicolors("value",{color:this.calculated_colors[b]}):a.minicolors("value",{color:b})},load_fonts:function(){var a=f("head");f.each(this.fonts,function(b,c){f.each(c.css,function(b,c){f('link[href="'+c+'"]',a).length||a.append(f("<link>",{rel:"stylesheet",href:c}))})})},get_infoblock_element:function(){var a=this.infoblock_id;return a?document.querySelector(".tpl-block-"+a+", .tpl-container-"+a):null}}})($nc);
